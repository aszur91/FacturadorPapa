<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>App de Facturación</title>
<link rel="stylesheet" href="style.css">
<link rel="manifest" href="manifest.json">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

<header>
  <h1>App de Facturación</h1>
  <nav>
    <button id="btnEmpresas">Empresas</button>
    <button id="btnClientes">Clientes</button>
    <button id="btnPresupuestos">Presupuestos</button>
    <button id="btnFacturas">Facturas</button>
    <button id="btnAjustes">Ajustes</button>
  </nav>
</header>

<main>
  <!-- Empresas -->
  <section id="pantallaEmpresas" class="pantalla active">
    <h2>Empresas</h2>
    <button id="btnAddEmpresa">Añadir Empresa</button>
    <ul id="listaEmpresas"></ul>
  </section>

  <!-- Clientes -->
  <section id="pantallaClientes" class="pantalla">
    <h2>Clientes</h2>
    <button id="btnAddCliente">Añadir Cliente</button>
    <ul id="listaClientes"></ul>
  </section>

  <!-- Presupuestos -->
  <section id="pantallaPresupuestos" class="pantalla">
    <h2>Presupuestos</h2>
    <label>Empresa activa:
      <select id="empresaActiva">
        <!-- Opciones generadas dinámicamente -->
      </select>
    </label>
    <button id="btnAddPresupuesto">Crear Presupuesto</button>
    <ul id="listaPresupuestos"></ul>
  </section>

  <!-- Facturas -->
  <section id="pantallaFacturas" class="pantalla">
    <h2>Facturas</h2>
    <ul id="listaFacturas"></ul>
  </section>

  <!-- Ajustes -->
  <section id="pantallaAjustes" class="pantalla">
    <h2>Ajustes</h2>
    <label>Color principal: <input type="color" id="ajusteColor"></label>
    <label>Tipo de letra: <input type="text" id="ajusteTipoLetra"></label>
    <label>Tamaño de letra: <input type="number" id="ajusteTamano"></label>
    <label>IVA por defecto: <input type="number" id="ajusteIVA"></label>
    <button id="btnGuardarAjustes">Guardar Ajustes</button>
  </section>
  
  <div id="modalPreview" class="modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <div id="previewContenido"></div>
      <div class="modal-footer">
        <button id="btnEditarPresupuesto" style="background-color: #ff9500; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-right: 10px;">
          Editar Datos
        </button>
        <button id="btnConfirmarPDF" style="background-color: var(--primary-color); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">
          Confirmar y Descargar PDF
        </button>
      </div>
    </div>
  </div>
</main>

<script src="app.js"></script>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('./sw.js')
      .then(() => console.log("Service Worker listo"))
      .catch((err) => console.log("Error en SW", err));
  }
</script>
</body>
</html>